{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b397a84f7cd1de1c0590","webpack:///./src/RequestHandler.js","webpack:///./src/index.js","webpack:///./src/image/index.js","webpack:///./src/image/SimilarSearch.js","webpack:///./src/image/Prediction.js"],"names":["API_BASE_URL","RequestHandler","clientId","clientSecret","length","Error","params","url","apiUrl","Promise","resolve","reject","xhr","XMLHttpRequest","open","method","setRequestHeader","onload","status","JSON","parse","responseText","statusText","onerror","data","send","stringify","image","SimilarSearch","Prediction","requestHandler","medias","Array","sendRequest","map","element","mediaUrl","page","size","isNaN","mediaId","base64","area","payload","hasOwnProperty","x","y","w","h","modelId"],"mappings":"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","file":"scopemedia.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"scopemedia\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scopemedia\"] = factory();\n\telse\n\t\troot[\"scopemedia\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b397a84f7cd1de1c0590","// import axios from 'axios';\r\n\r\nconst API_BASE_URL = 'https://api.scopemedia.com';\r\n\r\nexport default class RequestHandler {\r\n  constructor(clientId, clientSecret) {\r\n    if (typeof clientId !== 'string' || typeof clientSecret !== 'string' ||\r\n        clientId.length === 0 || clientSecret.length === 0) {\r\n      throw new Error('Client ID or secret is undefined');\r\n    }\r\n    this.clientId = clientId;\r\n    this.clientSecret = clientSecret;\r\n  }\r\n\r\n  sendRequest(params) {\r\n    params.url = API_BASE_URL + params.apiUrl;\n\n    return new Promise((resolve, reject) => {\r\n      var xhr = new XMLHttpRequest();\n\r\n      xhr.open(params.method, params.url);\r\n      xhr.setRequestHeader('Content-Type', 'application/json');\r\n      xhr.setRequestHeader('Client-Id', this.clientId);\r\n      xhr.setRequestHeader('Client-Secret', this.clientSecret);\r\n      xhr.onload = function () {\r\n        if (this.status >= 200 && this.status < 300) {\r\n          resolve(JSON.parse(this.responseText));\r\n        } else {\r\n          reject({\r\n            status: this.status,\r\n            statusText: this.statusText\r\n          });\r\n        }\r\n      };\r\n      xhr.onerror = function () {\r\n        reject({\r\n          status: this.status,\r\n          statusText: this.statusText\r\n        });\r\n      };\r\n\r\n      if (params.data) {\r\n        xhr.send(JSON.stringify(params.data));\r\n      } else {\r\n        xhr.send();\r\n      }\r\n    });\r\n  }\r\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/RequestHandler.js","import image from './image/index.js';\nexport default {\n  image\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import SimilarSearch from './SimilarSearch.js';\nimport Prediction from './Prediction.js';\nexport default {\n  SimilarSearch, Prediction\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/image/index.js","import RequestHandler from '../RequestHandler.js';\r\n\r\nexport default class SimilarSearch {\r\n  constructor(clientId, clientSecret) {\r\n    this.requestHandler = new RequestHandler(clientId, clientSecret);\r\n  }\r\n\r\n  addImage({medias}) {\r\n    if (!(medias instanceof Array) || medias.length === 0) {\r\n      throw new Error('Parameter medias is invalid');\r\n    }\r\n\r\n    return this.requestHandler.sendRequest({\r\n      method: 'POST',\r\n      apiUrl: '/search/v2/medias',\r\n      data: {\r\n        medias: medias.map(function (element) {return {mediaUrl: element};})\r\n      }\r\n    });\r\n  }\r\n\r\n  getAllImage({page = 0, size = 20}) {\r\n    if (isNaN(page)) {\r\n      throw new Error('Parameter page is invalid');\r\n    }\r\n\r\n    return this.requestHandler.sendRequest({\r\n      method: 'GET',\r\n      apiUrl: `/search/v2/medias?page=${page}&size=${size}`\r\n    });\r\n  }\r\n\r\n  searchImage({mediaId, mediaUrl, base64, area}) {\r\n    var payload = {};\r\n\r\n    if (!isNaN(mediaId)) {\r\n      payload.mediaId = mediaId;\r\n    } else if (typeof mediaUrl === 'string' && mediaUrl.length > 0) {\r\n      payload.mediaUrl = mediaUrl;\r\n    } else if (typeof base64 === 'string' && base64.length > 0) {\r\n      payload.base64 = base64;\r\n    } else {\r\n      throw new Error('One of mediaId, mediaUrl or base64 is required, but none are valid');\r\n    }\r\n\r\n    if (area && area.hasOwnProperty('x') && area.hasOwnProperty('y') &&\r\n        area.hasOwnProperty('w') && area.hasOwnProperty('h') &&\r\n        !isNaN(area.x) && !isNaN(area.y) && !isNaN(area.w) && !isNaN(area.h)) {\r\n      payload.area = area;\r\n    }\r\n\r\n    return this.requestHandler.sendRequest({\r\n      method: 'POST',\r\n      apiUrl: '/search/v2/similar',\r\n      data: payload\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/image/SimilarSearch.js","import RequestHandler from '../RequestHandler.js';\r\n\r\nexport default class Prediction {\r\n  constructor(clientId, clientSecret) {\r\n    this.requestHandler = new RequestHandler(clientId, clientSecret);\r\n  }\r\n\r\n  getModels() {\r\n    return this.requestHandler.sendRequest({\r\n      method: 'GET',\r\n      apiUrl: '/tagging/v2/models'\r\n    });\r\n  }\r\n\r\n  predictImage({modelId, mediaUrl, base64, area}) {\r\n    var payload = {};\r\n\r\n    if (typeof modelId === 'string' && modelId.length > 0) {\r\n      payload.modelId = modelId;\r\n    } else {\r\n      throw new Error('Parameter modelId is invalid');\r\n    }\r\n\r\n    if (typeof mediaUrl === 'string' && mediaUrl.length > 0) {\r\n      payload.mediaUrl = mediaUrl;\r\n    } else if (typeof base64 === 'string' && base64.length > 0) {\r\n      payload.base64 = base64;\r\n    } else {\r\n      throw new Error('One of mediaUrl or base64 is required, but none are valid');\r\n    }\r\n\r\n    if (area && area.hasOwnProperty('x') && area.hasOwnProperty('y') &&\r\n        area.hasOwnProperty('w') && area.hasOwnProperty('h') &&\r\n        !isNaN(area.x) && !isNaN(area.y) && !isNaN(area.w) && !isNaN(area.h)) {\r\n      payload.area = area;\r\n    }\r\n\r\n    return this.requestHandler.sendRequest({\r\n      method: 'POST',\r\n      apiUrl: '/tagging/v2/prediction',\r\n      data: payload\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/image/Prediction.js"],"sourceRoot":""}