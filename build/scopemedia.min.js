!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("scopemedia",[],t):"object"==typeof exports?exports.scopemedia=t():e.scopemedia=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){if(n(this,e),"string"!=typeof t||"string"!=typeof r||0===t.length||0===r.length)throw new Error("Client ID or secret is undefined");this.clientId=t,this.clientSecret=r}return a(e,[{key:"sendRequest",value:function(e){var t=this;return e.url="https://api.scopemedia.com"+e.apiUrl,new Promise(function(r,n){var a=new XMLHttpRequest;a.open(e.method,e.url),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Client-Id",t.clientId),a.setRequestHeader("Client-Secret",t.clientSecret),a.onload=function(){this.status>=200&&this.status<300?r(JSON.parse(this.responseText)):n({status:this.status,statusText:this.statusText})},a.onerror=function(){n({status:this.status,statusText:this.statusText})},e.data?a.send(JSON.stringify(e.data)):a.send()})}}]),e}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={image:a.default},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),i=n(a),o=r(4),s=n(o);t.default={SimilarSearch:i.default,Prediction:s.default},e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t,r){n(this,e),this.requestHandler=new o.default(t,r)}return a(e,[{key:"addImage",value:function(e){var t=e.medias;if(!(t instanceof Array)||0===t.length)throw new Error("Parameter medias is invalid");return this.requestHandler.sendRequest({method:"POST",apiUrl:"/search/v2/medias",data:{medias:t.map(function(e){return{mediaUrl:e}})}})}},{key:"getAllImage",value:function(e){var t=e.page,r=void 0===t?0:t,n=e.size,a=void 0===n?20:n;if(isNaN(r))throw new Error("Parameter page is invalid");return this.requestHandler.sendRequest({method:"GET",apiUrl:"/search/v2/medias?page="+r+"&size="+a})}},{key:"searchImage",value:function(e){var t=e.mediaId,r=e.mediaUrl,n=e.base64,a=e.area,i={};if(isNaN(t))if("string"==typeof r&&r.length>0)i.mediaUrl=r;else{if(!("string"==typeof n&&n.length>0))throw new Error("One of mediaId, mediaUrl or base64 is required, but none are valid");i.base64=n}else i.mediaId=t;return!(a&&a.hasOwnProperty("x")&&a.hasOwnProperty("y")&&a.hasOwnProperty("w")&&a.hasOwnProperty("h"))||isNaN(a.x)||isNaN(a.y)||isNaN(a.w)||isNaN(a.h)||(i.area=a),this.requestHandler.sendRequest({method:"POST",apiUrl:"/search/v2/similar",data:i})}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t,r){n(this,e),this.models={DOG:"dog",FASHION:"fashion-v1",GENERAL:"general-v3"},this.requestHandler=new o.default(t,r)}return a(e,[{key:"getModels",value:function(){var e=this,t=[];return Object.keys(this.models).forEach(function(r){t.push(e.models[r])}),t}},{key:"predictImage",value:function(e){var t=e.modelId,r=e.mediaUrl,n=e.base64,a=e.area,i={};if(!("string"==typeof t&&t.length>0))throw new Error("Parameter modelId is invalid");if(i.modelId=t,"string"==typeof r&&r.length>0)i.mediaUrl=r;else{if(!("string"==typeof n&&n.length>0))throw new Error("One of mediaUrl or base64 is required, but none are valid");i.base64=n}return!(a&&a.hasOwnProperty("x")&&a.hasOwnProperty("y")&&a.hasOwnProperty("w")&&a.hasOwnProperty("h"))||isNaN(a.x)||isNaN(a.y)||isNaN(a.w)||isNaN(a.h)||(i.area=a),this.requestHandler.sendRequest({method:"POST",apiUrl:"/tagging/v2/prediction",data:i})}}]),e}();t.default=s,e.exports=t.default}])});